# История версий
### 6.2
- Добавлен id книги в шаблоне имени файла
- Редизайн окна настроек
- Добавлена настройка шрифтов gui
- Добавлен поиск по имени файла
- Добавлен поиск по имени оценке
- Добавлено отображение обложек pdf файлов
- Обновлён список жанров
- Добавлена кнопка «Очистить» в окне поиска
- Добавлена мультисерийность книг
- Добавлено сохранение меток при пересоздании библиотеки

### 6.1
- Улучшен поиск в web сервере
- Удалён opds/web сервер для Qt<6.4
- Добавлена поддержка opds 2.0
- Добавлена нумерация web страниц
- Увеличена скорость открытия opds/web страниц
- Добавлена тёмная тема в web сервере

### 6.0.93
- Добавлена поддержка zip in zip
- Добавлено отображение обложек djvu файлов
- Иземенена директория по умолчанию для freeLib.sqlite
- Исправлено зависание при открытии пустой библиотеки

### 6.0.83
- Добавлен блок [] в шаблон имени файла
- Добавлена оценка книг пользователем
- Добавлена колонка формата книги
- Удалён бинарник **kindlegen**

### 6.0.53
- Добавлена поддержка Qt6
- Добавлено окно статистики библиотеки
- Переработано окно About
- Обновлены параметры командной строки

### 6.0.33
- Добавлен табличный вид списка книг
- Обновлён список жанров.
- Добавлен запуск opds сервера из командной строки

### 6.0.18
- Поддержка тёмных тем
- удалён режим конвертера

### 6.0
- Исправлено отображение на HiDPI экранах.
- Оптимизация скорости работы программы.
- Обновлён список жанров.

### 5.0
- Изменен механизм аутентификации при использовании HTTP/OPDS сервера.
- Исправлено сохранение настроек в директории программы.

### 4.10
- Исправлены текстовые виньетки.
- Изменен алгоритм формирования содержания. Теперь содержание всегда генерируется для первого *body* не зависимо от наличия у него атрибута *name*.

### 4.9.1
- Исправлено сворачивание в трей.
- Устранено создание inpx файла при экспорте книг.
- Исправлена вставка шрифтов.
- Изменен интерфейс задания шрифтов. Теперь для каждого элемента можно назначить до четырех шрифтов (обычный, курсив, жирный и жирный курсив).

### 4.9
- Исправлена конвертация EPUB в AZW3.
- Исправлено пропадание жанра "Фантастика".
- Исправлен импорт/экспорт настроек конвертера. Теперь можно делиться своими настройками с другими пользователями. Передаются настройки css, шрифты и т.д., конфиденциальные данные по-прежнему не передаются.
- Изменен алгоритм исправления обложки, теперь исправляется не только разрешение изображения, но и соотношение сторон, в результате обложки получаются одинакового размера.
- Под сноски выделен отдельный пункт в оглавлении книги.
- Исправлена ошибка объединения книг серии в одну книгу при наличии в книгах сносок.
- Исправлена ошибка отправки книг по почте в новых версиях OS X.
- Устранено дублирование файлов шрифтов.
- Исправлено поведение иконки в трее для OS X.
- Добавлен экспорт библиотеки в файл INPX. При экспорте сохраняются все назначенные теги.
- В HTTP сервер добавлена аннотация книги (по-умолчанию выключено).
- Исправлено отображение кавычек в начале строки при включенной буквице.

### 4.8
- Изменение в структуре базы данных. Для перехода на новую версию необходимо переиндексировать библиотеку.
- Исправлено неверное конвертирование строки начинающейся с дефиса при влюченной расстановке переносов.
- Изменен список недопустимых символов в имени файла.
- Добавлена настройка "Расшиненный набор символов в  имени файла" (только для MAC OS и Linux). Если опция не включена, то используется набор ограничений windows.
- Введен новый элемент стиля titleblock, который содержит настройки заголовков. Ранее использовался titlenotes, который сейчас используется только для сносок.
- Исправлена конвертация EPUB в MOBI.
- Исправлена структура EPUB без содержания в тексте книги.

### 4.7.2
- Исправлен  поиск книг по авторам и жанрам в OPDS/HTTP сервере.

### 4.7.1
- Исправлено создание базы данных.

### 4.7
- Изменение в структуре базы данных. Для перехода на новую версию необходимо переиндексировать библиотеку.
- Исправлена ошибка перехода по главам.
- При создании нового профиля не устанавливались значения по-умолчанию.
- Добавлен шрифт по-умолчанию для буквицы.
- Удалены дубликаты книг при поиске.
- При открытии диалога настроек открываются параметры текущего профиля.
- Исправлена ошибка сворачивания окна приложения (windows).
- Добавлен импорт/экспорт профилей конвертации (сохраняются только настройки конвертации, e-mail и другие конфиденциальные данные не экспортируются).

### 4.6
- При экспорте через контекстное меню всегда выбирался первый вариант экспорта.
- Добавлена возможность создания пользовательских CSS (Экспорт->Конвертация из fb2 в MOBI/AZW3/EPUB->Стиль).
- При удалении настроек экспорта настройки удалялись не зависимо от того подтвердил пользователь операцию или нет.
- При поиске по автору не важна последовательность имени и фамилии: "Гарри Гаррисон" и "Гаррисон Гарри" дадут одинаковый результат.
- Поправлены ошибки OPDS сервера (в некоторых ридерах книги скачивались неверно).
- Не запоминался порт для отправки по e-mail.
- Исправлен поиск в OPDS/HTTP сервере.

### 4.5
- Если уменьшить высоту области с информацией о книге до нуля, то информация о книге не будет обновляться (ускоряется работа по сети).
- Добавлен экспорт через контекстное меню в списке книг.
- Добавлена иконка в трее (по-умолчанию выключена).
- Добавлен аргумент командной строки --tray для сворачивания приложения в трей при запуске.
- Добавлена авторизация для OPDS/HTTP сервера.
- Добавлена возможность менять место вставки содержания, а также полностью отказаться от него.
- В OPDS сервер добавлена информация об авторе, жанре и языке.
- Настройки сети вынесены в отдельную вкладку.
- В OPDS сервер добавлена аннотация книги.
- В HTTP/OPDS сервер добавлен вывод обложки и ограничение на количество выводимых книг на странице.
- Текст на обложку добавлялся всегда, независимо от установленных опций.

### 4.4
- Исправлено пропадание сносок.
- Текст на обложке печатается на полупрозрачной подложке.

### 4.3.1
- Исправлено создание библиотек без INPX файлов.

### 4.3
- Исправлена работа с архивами более 4Гб.
- Количество книг в списке было ограничено числом заданным на вкладке "Поиск" опцией "Выводить не более" не только для вкладки поиск, но и для остальных вкладок.
- В OPDS/HTTP сервере исправлен поиск с пробелами.
- Исправлена ошибка индексации базы данных (требуется пересоздать библиотеку).
- Добавлен запрет на индексирование OPDS/HTTP сервера поисковыми системами.
- Исправлена работа с относительными путями.
- Исправления в английском интерфейсе (спасибо <b>НуПогоди</b>).
- Убраны повторяющиеся виньетки в конце главы.
- Обновлен украинский интерфейс (спасибо <b>Nester</b>).
- При использовании некоторых шрифтов виньетки отображались неверно.
- Добавлена задержка перед началом фильтрации по строке поиска (позволяет набрать несколько символов перед началом отбора).

### 4.2
- Исправлена последовательность сносок.
- Увеличена скорость отображения книг с большим количеством сносок (iBooks).
- Поправлена информация о книге (Windows).
- Расширен перечень параметров для утилит постобработки.
- Изменены параметры имени автора.
- Добавлен параметр экспорта "Использовать утилиту постобработки для копирования". В случае включения этой опции копирование на устройство должно быть реализовано в утилите постобработки.
- В настройках библиотеки добавлена опция "Импортировать только первого автора" (опция игнорируется если указан inpx файл).
- Реализовано хранение пароля в зашифрованном виде.
- В настройки шрифтов добавлен размер.

### 4.1
- При расстановке переносов в словах "где-то", "когда-нибудь" и т.д. ставился лишний знак переноса.
- Исправлено поведение окна "О программе".
- Доработан интерфейс OPDS/HTTP сервера.
- В OPDS/HTTP сервер добавлена возможность работать с книгами без добавления в библиотеку (нужно указать директорию с книгами в настройках сервера).
- Исправлнена конвертация книг с изображениями.
- Настройка имени файла действует так же и для OPDS/HTTP сервера. Чтобы сервер выдавал оригинальные имена файлов, нужно установить флажок "Сохранять исходные имена файлов".
- Исправлено поведение окна справки при открытом диалоге настроек.
- Добавлена проверка на корректность генерируемого имени файла.

### 4.0
- Добавлен режим работы "конвертер". В этом режиме нет необходимости создавать библиотеку для конвертации файлов.
- Настройки по-умолчанию содержат 4 вида конвертации: оригинальный формат, MOBI, EPUB, AZW3.
- Отдельная настройка шрифтов для заголовков верхнего уровня.
- Заголовки выравнивались не по центру страницы.
- Добавлена поддержка прокси серверов.
- Добавлено ограничение количества книг выводимых при поиске (если установить равным 0, то список выводится без ограничений)
- Добавлена поддержка формата MOBI7.

### 3.14
- Добавлена обработка картинок в сносках. В режиме сносок "в тексте" картинки по-прежнему игнорируются. Во всплывающих сносках поддержка картинок зависит от ридера.
- Исправлено переключение раскладки в Linux.
- Доработана обработка сносок.
- Некоторые форматы обложек не отображались ридерами.
- Добавлена опция "Исправить размер обложки" (по-умолчанию включена).
- Добавлена возможность настроить максимальный уровень вложенности оглавления (по-умолчанию 10).
- Реализована генерация уникального ISBN в случае его отсутствия.
- Названия серий и имена авторов импортируются без учета регистра.

### 3.13
- Исправлена конвертация в EPUB.
- Добавлено копирование файлов на устройство с сохранением структуры каталогов библиотеки.

### 3.12
- Исправлено переключение места хранения настроек. Теперь при переключении настройки не теряются.
- Исправлено прерывание процедуры экспорта.
- Оптимизирована БД библиотеки (пересоздание библиотеки не требуется).
- Добавлена возможность создавать всплывающие сноски (только если поддерживается ридером).
- Добавлена возможность отключить многоуровневое оглавление.
- При скрытии аннотации она остается в description epub файла.
- Доработан алгоритм переносов.
- Настройка "показывать удаленные книги" работает для HTTP/OPDS сервера.
- Добавлена команда для быстрого выделения/снятия выделения всех книг.

### 3.11
- В некоторых случаях HTTP сервер не передавал картинки.
- Исправлено обновление библиотеки при выбранной опции "Добавлять новые книги".
- Исправлено редактирование названия библиотеки и профиля экспорта.
- Добавлена транслитерация имени автора и названия книги при экспорте (по-умолчанию выключено).
- Исправлен экспорт книг вне серии при включенной опции "Объединять книги серии в одну книгу".
- Доработан HTTP/OPDS сервер (добавлен поиск, изменен дизайн и т.д.).
- Исправлен поиск книг по автору в HTTP/OPDS.
- При добавлении утилит для конвертации они сразу появляются в параметрах экспорта без необходимости выходить и повторно заходить в настройки.
- Добавлена возможность выбрать настройки конвертации для HTTP/OPDS сервера (используются только настройки на вкладке "Конвертация из fb2 в MOBI/AZW3/EPUB").
- Добавлена возможность печатать на обложке номер серии.
- При конвертации информация о книге берется из базы данных, а не из файла книги.
- Добавлена возможность гененрировать обложку книги (на обложке печатается имя автора, заголовок книги, название серии и номер книги в серии).

### 3.10
- Исправлена ошибка OPDS сервера, приводившая к закрытию программы.
- Добавлена возможность менять расположения файла базы данных. Приоритет поиска базы данных: путь в настройках программы, директория программы, папка пользователя.
- Добавлена возможность хранить настройки программы рядом c исполняемым файлом (переносимая версия).
- Добавлена кнопка сброса к настройкам по-умолчанию.
- Добавлен экспорт в AZW3.
- В Linux версию программы добавлен скрипт install.sh, который генерирует файл freeLib.desktop для запуска программы и копирует его в /usr/share/application/ (нужны root права).
- Добавлена опция удаления надписи "Personal" на обложках книг для Kindle Paperwhite (только для формата AZW3).

### 3.9
- Графика оптимизирована для дисплеев Retina.
- Изменен диалог управления библиотеками.
- Добавлены профили экспорта.
- При экспорте в EPUB/MOBI добавлена возможность объединять книги серии в одну книгу.
- При отправке книги на почту, файл книги не дублируется в директории экспорта.
- Запуск поиска по клавише ENTER на вкладке поиска в полях "Название", "Автор", "Серия".
- Исправлено заполнение списка языков на вкладке поиска.
- OPDS/HTTP сервер иногда передавал пустой файл.

### 3.8
- Разбивка fb2 файла на отдельные html файлы при конвертации в epub/mobi (быстрое открытие файлов epub в iBooks и совместимость с некоторыми ридерами).
- Многоуровневое оглавление при экспорте в EPUB/MOBI.
- Исправлено формирование буквицы, если строка начинается не с буквы.
- Исправлена работа со шрифтами.

### 3.7
- Мастер добавления библиотеки.
- Исправлены ошибки при экспорте в EPUB.
- Добавлена возможность поддержать развитие программы. Это можно сделать через диалог "О программе" или в меню "Справка".

### 3.6
- Исправлена ошибка вставки виньеток в EPUB.
- Исправлена иконка приложения в Linux.
- Вместо пути к шрифту показывается его название.
- Программа завершала работу, если при включенной опции спрашивать директорию преред отправкой, отказаться от выбора директории.
- Изменено положение фильтра.

### 3.5
- Добавлены три варианта расположения сносок (в конце книги с сылками, непосредственно в тексте, сразу за абзацем).
- Дополнен перевод.
- Исправлено поведение кнопок экспорта при включенной опции "запоминать позицию в библиотеке".
- Реализована возможность задавать программу чтения для каждого формата книги.
- Реализован импорт из fbd файлов. Информация из fbd файла обладает более высоким приоритетом чем информация из файла книги.
- Возможность рисовать текстовые виньетки (для уменьшения обновлений экрана).
- Возможность использовать свои шрифты в книгах.

### 3.4
- Добавлена возможность скрывать информацию о файле в информации о книге.
- Убраны пункты меню "Перейти к автору" и "Перейти к серии" - таже самая функциональность доступна из информации о книге.
- Добавлена транслитерация имени файла (по-умолчанию выключена).
- Исправлена ошибка экспорта/импорта, приводившая к завершению приложения (проявлялось на Windows 8.1).
- Добавлена заставка программы (по-умолчанию включена).
- Косметические изменения интерфейса в Windows.
- OPDS/HTTP сервер запускается/останавливается сразу при включении соответствующей опции без необходимости выходить из диалога настроек.
- Исправлена отправка e-mail в Windows.
- Изменено поведение прогресса экспорта.

### 3.3
- Для временных файлов используется стандарная папка.
- Добавлена возможность не вставлять аннотацию при экспорте.
- Немного подправлена информация о книге.
- Появились ссылки для перехода к соавторам, серии, жанру из информации о книге.
- Перед отправкой на устройсво спрашивается папка (опционально, по-умолчанию включено).
- Добавлено меню для быстрого переключения между библиотеками.

### 3.2
- Исправлено формирование номера книги в серии при экспорте.
- Иногда при экспорте создавалась пустая папка без файла книги.
- Символы в имени файла * | \ / : " ? < > при экспорте заменяются на '.'.
- Не запоминалась настройка переносов.
- Исправлена работа опции "Каждая глава с новой страницы".
- Национальный алфавит не зависит от языка интерфейса.

### 3.1
- Новые возможности OPDS/HTTP сервера.
- Исправлен диалог "О программе".
- Добавлена поддержка выбора языка интерфейса.
- Вышла версия для Windows.

### 3.0
- OPDS/HTTP сервер.

### 2.21
- Переход на Qt 5.2.

### 2.20
- Исправлена конвертация спецсимволов в MOBI\EPUB.
- Добавлено отображение информации о файле (архиве) книги: размер, дата создания, путь.

### 2.19
- По-умолчанию папка для экспорта - домашняя папка пользователя.
- Исправлено определение размера файла при сканировании библиотеки.
- Сканирование EBUP файлов для включения их в библиотеку.
- Конвертация EBUP в MOBI.

### 2.18
- Исправлена буквица.
- Исправлено импортирование номеров книг в сериях из inpx для библиотеки Траума.
- Исправлена расстановка переносов.
- Добавлено использование символа "-" вместо мягкого переноса для создания детских книг с разбивкой книг по слогам.

### 2.17
- Оптимизирована отправка на e-mail.
- Исправлена двойная конвертация книги (в некоторых случаях книга конвертировалась дважды).
- Изменено поведение фильтра. Теперь при удалении последней буквы она выделяется и ее можно изменить с помощью клавиатуры.
- Добавлена возможность снимать отметку с книг после экспорта (по-умолчанию включено).
- Добавлена возможность вставлять виньетки при экспорте в EPUB\MOBI.
- Добавлена возможность при экспорте в EPUB\MOBI начинать каждую главу с новой страницы (по-умолчанию включено).

### 2.16
- Добавлена настройка e-mail отправителя.
- Добавлен более подробный лог процесса отправки почты.

### 2.15
- Исправлена отправка на e-mail.

### 2.14
- Добавлена возможность запоминать последюю позицию в библиотеке.
- Добавлены теги для книги, автора, серии и фильтрация по ним.

### 2.13
- Реализован автоматический выбор кодировки в zip-архивах (UTF-8 или CP866).
- Ускорено сканирование fb2 файлов при создании библиотек.

### 2.12
- Добавлены несколько способов обновления библиотек.
- Исправлено формирование метаданных в EBUP.
- Исправлено формирование заголовков в оглавлении.
- Добавлены переносы на английском, немецком и украинском языках.
- Исправлен экспорт книг в сериях.

### 2.11
- Мелкие исправления.

### 2.10
- Добавлена расстановка переносов при конвертации в EPUB, MOBI.
- Исправлена работа с распаковаными fb2 файлами.

### 2.9
- Добавлена конвертация в формат EPUB.
- Исправлена работа с библиотеками без inpx файлов.

### 2.7
- Поддержка OS X Mavericks.

### 2.6
- Добавлена конвертация в формат MOBI.
